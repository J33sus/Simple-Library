function addBook(e){let o=document.createElement("div");o.className="book";let n=document.createElement("img");e.volumeInfo.imageLinks?n.src=e.volumeInfo.imageLinks.thumbnail:n.src="./images/unknown.png";let t=document.createElement("div");t.className="book-image",t.appendChild(n),o.appendChild(t);let i=document.createElement("h2");i.innerText=e.volumeInfo.title,i.className="book-info--title",e.volumeInfo.description||(e.volumeInfo.description="Sin descripciÃ³n.");let l=document.createElement("p");e.volumeInfo.description.length>600&&(e.volumeInfo.description=e.volumeInfo.description.slice(0,600),e.volumeInfo.description+="..."),l.innerText=e.volumeInfo.description,l.className="book-info--description";let a=document.createElement("div");a.className="book-info--preview-box";let s=document.createElement("a");s.href=e.volumeInfo.previewLink,s.innerText="Ver libro",s.target="_blank",s.className="book-info--preview",a.appendChild(s);let c=document.createElement("div");c.className="book-info",c.appendChild(i),c.appendChild(l),c.appendChild(a),o.appendChild(c),bookContainer.appendChild(o)}function bookSearch(e){fetch(`https://www.googleapis.com/books/v1/volumes?q=${e.replace(" ","+")}&langRestrict=es&projection=lite&maxResults=15`).then(e=>e.json()).then(e=>{if(bookContainer.innerHTML="",e.items)for(const o of e.items)addBook(o);else alert("Sin resultados")})}function bookSearchCategory(e){fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${e.replace(" ","+")}&langRestrict=es&maxResults=15`).then(e=>e.json()).then(e=>{if(bookContainer.innerHTML="",e.items)for(const o of e.items)addBook(o);else alert("Sin resultados")})}let searchBook=document.getElementById("search-book"),bookContainer=document.getElementById("container-books");searchBook.addEventListener("keydown",function(e){if(!e.defaultPrevented){var o=e.key||e.keyCode;("Enter"===o||13===o&&searchBook.value.length>=1)&&(e.preventDefault(),bookSearch(searchBook.value))}});