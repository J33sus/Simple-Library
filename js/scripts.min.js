function addBook(e){let o=document.createElement("div");o.className="book";let n=document.createElement("img");e.volumeInfo.imageLinks?n.src=e.volumeInfo.imageLinks.thumbnail:n.src="./images/unknown.png";let t=document.createElement("div");t.className="book-image",t.appendChild(n),o.appendChild(t);let l=document.createElement("h2");l.innerText=e.volumeInfo.title,l.className="book-info--title",e.volumeInfo.description||(e.volumeInfo.description="Sin descripciÃ³n.");let a=document.createElement("p");e.volumeInfo.description.length>600&&(e.volumeInfo.description=e.volumeInfo.description.slice(0,600),e.volumeInfo.description+="..."),a.innerText=e.volumeInfo.description,a.className="book-info--description";let i=document.createElement("div");i.className="book-info--preview-box";let s=document.createElement("a");s.href=e.volumeInfo.previewLink,s.innerText="Ver libro",s.target="_blank",s.className="book-info--preview",i.appendChild(s);let c=document.createElement("div");c.className="book-info",c.appendChild(l),c.appendChild(a),c.appendChild(i),o.appendChild(c),bookContainer.appendChild(o)}function bookProccessCallback(e){if(loadingBooks.style.display="",e.items)for(const o of e.items)addBook(o);else alert("Sin resultados")}function bookSearchName(e){bookContainer.innerHTML="",loadingBooks.style.display="block",fetch(`https://www.googleapis.com/books/v1/volumes?q=${e.replace(" ","+")}&langRestrict=es&projection=lite&maxResults=15`).then(e=>e.json()).then(e=>bookProccessCallback(e))}function bookSearchCategory(e){bookContainer.innerHTML="",loadingBooks.style.display="block",fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${e.replace(" ","+")}&langRestrict=es&maxResults=15`).then(e=>e.json()).then(e=>bookProccessCallback(e))}let searchBook=document.getElementById("search-book"),bookContainer=document.getElementById("container-books"),loadingBooks=document.getElementById("modal-loading-books");searchBook.addEventListener("keydown",function(e){if(!e.defaultPrevented){var o=e.key||e.keyCode;("Enter"===o||13===o&&searchBook.value.length>=1)&&(e.preventDefault(),bookSearchName(searchBook.value))}});